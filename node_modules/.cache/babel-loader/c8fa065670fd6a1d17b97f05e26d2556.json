{"ast":null,"code":"import { CONSTANTS } from \"../actions\";\nlet listID = 2;\nlet cardID = 3;\nconst initialState = [{\n  title: 'TO DO',\n  id: 0,\n  cards: [{\n    id: 0,\n    text: 'we created a static list and a static card',\n    body: 'hi card description'\n  }, {\n    id: 1,\n    text: 'we used a mix between material',\n    body: 'dddd'\n  }]\n}, {\n  title: 'DOING',\n  id: 1,\n  cards: [{\n    id: 0,\n    text: 'Hi',\n    body: ''\n  }, {\n    id: 1,\n    text: 'we used a mix between material',\n    body: ''\n  }, {\n    id: 2,\n    text: 'what?',\n    body: ''\n  }]\n}];\n\nconst listReducer = (state = initialState, action) => {\n  switch (action.type) {\n    // 새로운 리스트 생성\n    case CONSTANTS.ADD_LIST:\n      const newList = {\n        id: listID,\n        title: action.payload,\n        cards: []\n      };\n      listID += 1;\n      return [...state, newList];\n    // 새로운 카드 생성 \n\n    case CONSTANTS.ADD_CARD:\n      const newCard = {\n        id: cardID,\n        text: action.payload.text,\n        body: ''\n      };\n      cardID += 1;\n      const newState = state.map(list => {\n        // 해당 list 일 때\n        if (list.id === action.payload.listID) {\n          return { ...list,\n            cards: [...list.cards, newCard]\n          };\n        } else {\n          // 해당 list 아닐 떄, 기존값 반환\n          return list;\n        }\n      });\n      return newState;\n    // case CONSTANTS.ADD_CARD:\n    //     const newCard = {\n    //         text: action.payload.text,\n    //         body: ''\n    //     };\n    //     //cardID += 1;\n    //     const newState = state.map(list => {\n    //         // 해당 list 일 때\n    //         if(list.id === action.payload.listID) {\n    //             return {\n    //                 ...list,\n    //                 cards: list.cards.concat({\n    //                     id: this.id++,\n    //                     ...newCard\n    //                 })\n    //             }\n    //         } else {\n    //             // 해당 list 아닐 떄, 기존값 반환\n    //             return list\n    //         }\n    //     })\n    //     return newState;\n    // card 수정\n\n    case CONSTANTS.EDIT_CARD:\n      const editCard = state.map(list => list.id !== action.payload.listID ? list : { ...list,\n        cards: list.cards.map(item => item.id !== action.payload.cardID ? item : { ...item,\n          text: action.payload.cardText\n        })\n      });\n      return editCard;\n    // card 삭제\n\n    case CONSTANTS.DELETE_CARD:\n      console.log(action.payload.listID + \" \" + action.payload.cardID);\n      const deleteCard = state.map(list => list.id !== action.payload.listID ? list : { ...list,\n        cards: list.cards.filter(item => item.id !== action.payload.cardID)\n      }); // cardID -= 1;\n\n      return deleteCard;\n\n    default:\n      return state;\n  }\n};\n\nexport default listReducer;","map":{"version":3,"sources":["/Users/yeeun/Trello/trello/src/reducers/listReducer.js"],"names":["CONSTANTS","listID","cardID","initialState","title","id","cards","text","body","listReducer","state","action","type","ADD_LIST","newList","payload","ADD_CARD","newCard","newState","map","list","EDIT_CARD","editCard","item","cardText","DELETE_CARD","console","log","deleteCard","filter"],"mappings":"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","sourcesContent":["import { CONSTANTS } from \"../actions\";\n\nlet listID = 2;\nlet cardID = 3;\n\nconst initialState = [\n     { \n         title: 'TO DO', \n         id: 0, \n         cards: [ \n             { id: 0, text: 'we created a static list and a static card', body: 'hi card description'}, \n             { id: 1, text: 'we used a mix between material', body: 'dddd'} \n        ] \n    }, \n    { \n        title: 'DOING', \n        id: 1, \n        cards: [ \n            { id: 0, text: 'Hi', body: ''}, \n            { id: 1, text: 'we used a mix between material', body: ''}, \n            { id: 2, text: 'what?', body: ''} \n        ] \n    } \n];\n\nconst listReducer = (state = initialState, action) => {\n    switch(action.type) {\n        // 새로운 리스트 생성\n        case CONSTANTS.ADD_LIST:\n            const newList = {\n                id: listID,\n                title: action.payload,\n                cards: []\n            };\n            listID += 1;\n            return [...state, newList];\n\n        // 새로운 카드 생성 \n        case CONSTANTS.ADD_CARD:\n            const newCard = {\n                id: cardID,\n                text: action.payload.text,\n                body: ''\n            };\n            cardID += 1;\n\n            const newState = state.map(list => {\n                // 해당 list 일 때\n                if(list.id === action.payload.listID) {\n                    return {\n                        ...list,\n                        cards: [...list.cards, newCard]\n                    }\n                } else {\n                    // 해당 list 아닐 떄, 기존값 반환\n                    return list\n                }\n            })\n            return newState;\n        // case CONSTANTS.ADD_CARD:\n        //     const newCard = {\n        //         text: action.payload.text,\n        //         body: ''\n        //     };\n        //     //cardID += 1;\n\n        //     const newState = state.map(list => {\n        //         // 해당 list 일 때\n        //         if(list.id === action.payload.listID) {\n        //             return {\n        //                 ...list,\n        //                 cards: list.cards.concat({\n        //                     id: this.id++,\n        //                     ...newCard\n        //                 })\n        //             }\n        //         } else {\n        //             // 해당 list 아닐 떄, 기존값 반환\n        //             return list\n        //         }\n        //     })\n        //     return newState;\n        \n        // card 수정\n        case CONSTANTS.EDIT_CARD:\n            const editCard = state.map(list => \n            list.id !== action.payload.listID ? list : {\n                ...list,\n                cards: list.cards.map(item => \n                    item.id !== action.payload.cardID ? item : {\n                    ...item,\n                    text: action.payload.cardText\n                })\n            })\n            return editCard;\n        \n        // card 삭제\n        case CONSTANTS.DELETE_CARD:\n            console.log(action.payload.listID + \" \" + action.payload.cardID);\n            const deleteCard = state.map(list => \n                list.id !== action.payload.listID ? list : {\n                    ...list,\n                    cards: list.cards.filter(item => item.id !== action.payload.cardID)\n                })\n            // cardID -= 1;\n            return deleteCard;\n\n        default: return state;\n    }\n};\n\nexport default listReducer;"]},"metadata":{},"sourceType":"module"}